<%@ Master Language="VB" AutoEventWireup="false" CodeBehind="Site1.master.vb" Inherits="DAYTONAMIO.Site1" %>
<!DOCTYPE html>
<html lang="es">
<head runat="server">
  <meta charset="utf-8" />
  <title>Sistema</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="color-scheme" content="light" />

  <!-- Bootstrap 5 + Icons + Fuente (Manrope) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;600;700;800&display=swap" rel="stylesheet" />

  <style>
    /* =================== PALETA / TOKENS =================== */
    :root{
      --nav-bg: #062a24;
      --primary: #10b981;
      --primary-hover: #059669;
      --primary-light: #ecfdf5;
      --text-header: #0b1324;
      --text-body: #1f2937;
      --text-muted: #6b7280;
      --bg-main: #fafafa;
      --surface: #ffffff;
      --border-color: #e5e7eb;
      --chip-active-bg: #065f46;
      --topbar-h: 64px;

      /* Bootstrap tokens */
      --bs-primary: var(--primary);
      --bs-primary-rgb: 16,185,129;
      --bs-link-color: var(--primary);
      --bs-link-hover-color: var(--primary-hover);
      --bs-border-color: var(--border-color);
      --bs-body-bg: var(--bg-main);
      --bs-body-color: var(--text-body);

      color-scheme: light;
    }
    @media (max-width:576px){ :root{ --topbar-h:56px; } }

    html,body{height:100%;}
    body{
      margin:0;
      font-family:'Manrope',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
      color:var(--text-body);
      background-color: var(--bg-main);
      padding-top: calc(var(--topbar-h) + 58px); /* topbar + chipbar */
      line-height:1.5;
      letter-spacing:.1px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      text-rendering:optimizeLegibility;
    }

    /* =================== TOPBAR =================== */
    .topbar{
      position:fixed; left:0; right:0; top:0; z-index:1030;
      height:var(--topbar-h);
      background:var(--surface);
      color:var(--text-header);
      box-shadow:0 8px 24px rgba(0,0,0,.06);
      border-bottom:1px solid var(--border-color);
      overflow:hidden; /* evita desbordes visuales */
    }
    .topbar .container-max{
      height:100%;
      display:flex; align-items:center; justify-content:space-between;
      padding:0 12px;
    }

    /* Logos a la izquierda */
    .logo-strip{ display:flex; align-items:center; gap:12px; }
    .logo-img{
      height:40px; width:auto;
      border-radius:8px; background:#fff; padding:2px;
      border:1px solid var(--border-color);
    }
    @media (max-width:576px){
      .logo-img{ height:32px; }
    }

    /* Acciones a la derecha */
    .header-actions{ display:flex; align-items:center; gap:10px; }
    .header-actions .btn-sm{ padding:6px 10px; font-weight:700; }

    /* Botón menú móvil */
    .icon-btn{
      display:inline-flex; align-items:center; justify-content:center;
      width:40px; height:40px; border:1px solid var(--border-color);
      border-radius:10px; background:#fff; color:var(--text-header);
    }
    .icon-btn i{ font-size:1.25rem; line-height:1; }

    /* =================== CHIPBAR =================== */
    .chipbar{
      position:fixed; left:0; right:0; top:var(--topbar-h); z-index:1025;
      backdrop-filter: blur(10px);
      background-color: rgba(6, 95, 70, 0.12);
      border-bottom:1px solid var(--border-color);
    }
    .chip-scroll{
      display:flex; gap:.6rem; padding:.55rem .75rem; overflow:auto;
      scrollbar-width:thin; scrollbar-color:var(--primary) transparent;
    }
    .chip-scroll::-webkit-scrollbar{height:4px;}
    .chip-scroll::-webkit-scrollbar-thumb{background:var(--primary); border-radius:4px;}

    .chip{
      display:inline-flex; align-items:center; gap:.5rem; white-space:nowrap;
      color:#065f46; font-weight:700; font-size:.95rem; text-decoration:none;
      background:rgba(16,185,129,.10); border:1px solid rgba(16,185,129,.25);
      padding:.5rem 1rem; border-radius:999px;
      transition:transform .15s ease, box-shadow .15s ease, background-color .15s ease;
    }
    .chip:hover{ background:rgba(16,185,129,.18); transform:translateY(-1px); color:#064e3b; }
    .chip.active{ background:#065f46; color:#fff; box-shadow:0 4px 12px rgba(6,95,70,.35); }

    /* =================== CONTENIDO =================== */
    main.page{ width:100%; padding:1rem clamp(12px,2vw,32px) 2rem; min-height:calc(100vh - var(--topbar-h)); background:var(--bg-main); }
    .container-max{ max-width:1600px; margin:0 auto; }

    /* =================== OFFCANVAS =================== */
    .offcanvas-header{ background:var(--surface); color:var(--text-body); border-bottom:1px solid var(--border-color); }
    .offcanvas-nav .nav-link{
      display:flex; align-items:center; gap:.6rem; font-weight:700; color:var(--text-body);
      padding:.75rem 1rem; border-radius:8px;
    }
    .offcanvas-nav .nav-link:hover{ background-color:var(--primary-light); color: var(--primary-hover); }

    /* =================== ACCESIBILIDAD =================== */
    .chip:focus-visible, .icon-btn:focus-visible, .btn:focus-visible{
      outline:3px solid var(--primary)!important; outline-offset:2px;
    }
    input[type="text"], textarea{ text-transform:uppercase; }

    /* =================== BOOTSTRAP OVERRIDES =================== */
    .btn-primary{
      --bs-btn-bg: var(--primary);
      --bs-btn-border-color: var(--primary);
      --bs-btn-hover-bg: var(--primary-hover);
      --bs-btn-hover-border-color: var(--primary-hover);
      --bs-btn-active-bg: var(--primary-hover);
      --bs-btn-active-border-color: var(--primary-hover);
      font-weight:800;
      letter-spacing:.2px;
    }
    .btn-outline-primary{
      --bs-btn-color: var(--primary);
      --bs-btn-border-color: var(--primary);
      --bs-btn-hover-bg: var(--primary);
      --bs-btn-hover-border-color: var(--primary);
      --bs-btn-active-bg: var(--primary);
      --bs-btn-active-border-color: var(--primary);
      font-weight:800;
    }
    .form-check-input:checked{ background-color: var(--primary); border-color: var(--primary); }
    .page-link{ color: var(--primary); }
    .page-link:hover{ color: var(--primary-hover); }
    a{ color: var(--primary); } a:hover{ color: var(--primary-hover); }

    @media (prefers-color-scheme: dark){
      :root{ color-scheme: light; }
      body{ background-color: var(--bg-main) !important; color: var(--text-body) !important; }
    }

    /* Candado tipográfico global (usa Manrope, respeta iconos) */
    html, body, body *:not(i):not(.bi):not([class^="bi-"]):not([class*=" bi-"]){
      font-family:'Manrope',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif !important;
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
    }
    header.topbar, header.topbar *,
    nav.chipbar,  nav.chipbar *,
    .offcanvas,   .offcanvas *,
    main#MainHost, main#MainHost *{
      font-family:'Manrope',system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif !important;
    }
    i.bi, .bi::before, [class^="bi-"], [class*=" bi-"]{
      font-family:"bootstrap-icons" !important; font-style:normal !important; font-weight:normal !important;
    }
  </style>

  <!-- Slot para CSS/JS de cada página -->
  <asp:ContentPlaceHolder ID="HeadContent" runat="server" />
</head>

<body class="compact">
  <form id="form1" runat="server" enctype="multipart/form-data">

    <!-- TOPBAR (sin texto/icono de marca, logos alineados a la izquierda) -->
    <header class="topbar">
      <div class="container-max">
        <!-- IZQUIERDA: Logos -->
        <div class="logo-strip">
          <img src="images/logo.png" class="logo-img" alt="Logo 1" />
          <img src="images/logoinbur.png" class="logo-img" alt="Logo 2" />
          <!-- Agrega más logos si los necesitas -->
        </div>

        <!-- DERECHA: Usuario + Salir (desktop) y Menú (móvil) -->
        <div class="header-actions">
          <div class="d-none d-md-flex align-items-center gap-2">
            <span class="small d-none d-lg-inline">Hola, <asp:Literal ID="litUser" runat="server" /></span>
            <a class="btn btn-sm btn-outline-primary" href="Logout.aspx">
              <i class="bi bi-box-arrow-right me-1"></i>Salir
            </a>
          </div>

          <button class="icon-btn d-md-none" type="button" data-bs-toggle="offcanvas"
                  data-bs-target="#navMobile" aria-controls="navMobile" aria-label="Abrir menú">
            <i class="bi bi-list"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- CHIPBAR -->
    <nav class="chipbar" aria-label="Navegación principal">
      <div class="chip-scroll">
        <a href="princi.aspx"         class="chip" data-match="princi.aspx"><i class="bi bi-house-door"></i> Inicio</a>
        <a href="alta.aspx"           class="chip" data-match="alta.aspx"><i class="bi bi-folder-plus"></i> Carpeta</a>
        <a href="buscartransito.aspx" class="chip" data-match="buscartransito.aspx"><i class="bi bi-car-front"></i> Tránsito</a>
        <a href="buscarpiso.aspx"     class="chip" data-match="buscarpiso.aspx"><i class="bi bi-buildings"></i> Piso</a>
        <a href="tabla.aspx"          class="chip" data-match="tabla.aspx"><i class="bi bi-check-circle"></i> Entregado</a>
        <a href="tabla.aspx"          class="chip" data-match="tabla.aspx"><i class="bi bi-arrow-repeat"></i> Reingreso</a>
      </div>
    </nav>

    <!-- OFFCANVAS MÓVIL -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="navMobile" aria-labelledby="navMobileLabel">
      <div class="offcanvas-header">
        <h5 class="offcanvas-title" id="navMobileLabel">Menú</h5>
        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Cerrar"></button>
      </div>
      <div class="offcanvas-body offcanvas-nav">
        <ul class="nav flex-column gap-2">
          <li class="nav-item"><a class="nav-link" href="princi.aspx"><i class="bi bi-house-door"></i> Inicio</a></li>
          <li class="nav-item"><a class="nav-link" href="alta.aspx"><i class="bi bi-folder-plus"></i> Carpeta</a></li>
          <li class="nav-item"><a class="nav-link" href="buscartransito.aspx"><i class="bi bi-car-front"></i> Tránsito</a></li>
          <li class="nav-item"><a class="nav-link" href="buscarpiso.aspx"><i class="bi bi-buildings"></i> Piso</a></li>
          <li class="nav-item"><a class="nav-link" href="tabla.aspx"><i class="bi bi-check-circle"></i> Entregado</a></li>
          <li class="nav-item"><a class="nav-link" href="tabla.aspx"><i class="bi bi-arrow-repeat"></i> Reingreso</a></li>
          <li class="nav-item mt-3">
            <a class="btn btn-outline-primary w-100" href="Logout.aspx"><i class="bi bi-box-arrow-right me-1"></i> Salir</a>
          </li>
        </ul>
      </div>
    </div>

    <!-- CONTENIDO -->
    <main class="page" id="MainHost">
      <asp:ContentPlaceHolder ID="MainContent" runat="server" />
    </main>

    <!-- JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        (function () {
            var path = (location.pathname || "").toLowerCase();
            document.querySelectorAll('.chipbar .chip').forEach(function (a) {
                var m = (a.getAttribute('data-match') || "").toLowerCase();
                if (m && path.indexOf('/' + m) !== -1) { a.classList.add('active'); }
            });
        })();
    </script>
  </form>
</body>
</html>
